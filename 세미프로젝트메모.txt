220922

##1. 코드 깔끔정리 

##2. 거래게시판 
CRUD, 검색, 조회수, 댓글 

##3. [전국] 선택 검색 시 타 지역이 검색되지 않는 문제 해결해야함.

##4. 거래게시물의 댓글에 채택 버튼 달기.

##4-1 댓글 메뉴를 모달창으로 만들기.
c:if를 이용하여 
로그인유저== 댓글작성자 -> 수정 삭제 가능
로그인유저== 게시물작성자 and 로그인유저 != 댓글작성자 ->채택 채택취소 가능

##5.
거래게시물의 바이어에 댓글 작성자의 아이디를 넣기.
Cannot create PoolableConnectionFactory 

##6.
a태그를 클릭했을 때 post방식으로 요청을 하기.
js를 이용한다.
onclick을 사용하고
form태그를 만들어서 .submit()을 쓴다.


커밋하지 않은 상태로 update를 진행하면
무한 로딩에 걸린다. 

##7
포인트 충전 및 전송 이력 출력하는 기능.




///////
마이바티스에서 ${} 과 #{}의 차이?
${}를 사용하면 테이블 이름을 동적으로 바꿀 수 있다.?!?!

defaultValue=""

js 함수에서 사용하는 id가 같아서 생긴 문제.
<c:forEach> 속의 태그인데 id값을 주고 js함수에서 선택자로 사용한 것이 잘못.
첫번째 id만 매칭되고 있었다.


학원 컴퓨터로 작업하기 셋팅)


220923

##1
포인트 기능 화면단 제작
아코디언 기능의 토글이 안되는 문제가 발생하였다.
은행/ 카드/ 라디오버튼 체크 시 
입력창이 변하도록 하는 것이 잘 안된다.


##2
결제 기능..
api를 사용해볼지

충전화면에서 PointWork 객체로 받음.
1.
받은 값으로 먼저 멤버 객체의 포인트 잔고를 업데이트하고
2.
이게 성공하면 히스토리 테이블에 인서트한다.

1. 로그인 유저
2. 결제 수단
3. 은행 정보
4. 은행계좌번호
5. 카드사 정보
6. 카드번호
7. 포인트 작업 구분 (pointWorkType) 충전:C , 수신: R 발신: S

##3 
중고거래 게시판에서의 구매 로직.
1. 거래게시물에는 구매 댓글을 달 수 있다.
2. 구매 댓글에는 구매 희망 가격을 기입해야한다.
3. 판매자가 댓글을 채택할 경우 구매자는 판매자에게
포인트를 전송할 수 있다.

댓글에 판매자를 눈에 띄게 구분해주었고
구매희망가격을 표시하여서 판매자가 채택할 수 있도록 하였다.

구매 희망 가격에는 숫자만 입력할 수 있도록 자바스크립트 정규표현식을
달아주어야 한다.


220924
할것
1.포인트 전송로직구현
2.화면단 정규표현식
3.코드 정리 및 부족한 부분 보완
 3-1. 썸머노트 썸네일
 3-2. 부족한 부분 추가 및 코드 정리
 3-3. 검색기능 쿼리 개선
 3-4. point내역 필터 및 정렬 기능 추가
3.화면단 꾸미기


##1
포인트 잔액 조회 기능
포인트 관련 작업 시 포인트 잔액 리셋을 위하여
포인트 내역조회 하면에서 멤버 정보를 새롭게 select하여 가져오도록 하였다.
가져온 값으로 세션에 저장된 loginUser를 대체함.

- Javascript 페이지 이동+타이머
setTimeout("location.href='http://www.example.com/'",5000);



##2
포인트 전송 기능
마이페이지에서 구매 채택된 거래 게시물 내용을 확인하고
포인트 전송버튼을 누를 수 있다.
버튼을 누를경우 confirm창이 뜬다.
확인을 누를경우 포인트가 전송된다.
pointAmount만큼 보내는 이의 포인트에서 빼고
받는이의 point에 더한다.
오라클의 트리거를 사용한다면?

트랜잭션( 포인트 전송, 수신, 판매완료처리)
트랜잭션처리는 어떻게 하여야 하는가?
serviceimpl에서 처리.


##화면단
판매 완료 시 게시물 목록과 상세게시물 조회에서
[판매완료]로 표시되도록.


##5
댓글은 날짜를 timestamp로변경하기.
1) 디비를 바꾸고
2) vo를 바꾼다.

##6
댓글 입력 유효성 검사.
구매희망 가격에 숫자만 입력할 수 있도록.
클린한 댓글문화 정찰을 위한 비속어 방지.

##7
원댓글과 대댓글을 구분하는 기능.
<c:if>를 이용하여 대댓글은 class명칭을 부여하여
css가 적용되도록 하였다.


##8
채택 취소 기능


##9 
삭제된 댓글은 수정 삭제 창이 뜨지 않도록.
삭제한 댓글은 댓글 메뉴가 뜨지 않도록 변경하였다.

--다른 조원들은 테이블마다 유저식별자를 아이디가 아닌 닉네임으로
하고 있다니;



