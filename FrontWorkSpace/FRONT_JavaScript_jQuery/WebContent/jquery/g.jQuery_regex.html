<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jQuery 정규표현식 실습</title>
    <script src="./js/jquery-3.6.0.min.js"></script>
    <style>
        .area{
            background-color: lightgray;
            border: 1px solid black;
            height: 150px;
        }
    </style>
</head>
<body>

    <script>
        $(function(){
            var regBtn = $("#btn-regex1");
            //document.querySelector("#btn-regex1");
            var area = $("#area-tag1");
            //document.querySelector("#area1");
            regBtn.on("click",function(){
                var target = "javascript jQuery ajax";
                //정규표현식이라는 도구를 이용하여 target문자열을 검사한다.
                var regExp = /script/; // script를 검색해달라는 의미.이건 무슨 표현이지? 자바에서는 문자열로하던데
                var str = "";
                str +=regExp.test(target) + "<br>"; //true
                str +=regExp.exec(target) + "<br>"; //script
                str +=target.replace(regExp,"스크립트") + "<br>"; //정규표현식에 부합하는 부분을 바꾼다.
                area.html(str);
                //jQuery를 안쓴다면 area.innerHTML += 로 진행. 
            });

            var flagBtn = document.querySelector("#btn-flag");
            //$("#btn-flag");
            flagBtn.addEventListener("click",function(){
                var target = "javascript jquery Ajax";
                var target2 = "javascript\njquery\nAjax"; //개행 있음.
                var regExp = /a/g;  //a를 검색해달라는 의미. 뒤에 g를 붙이면 다 찾음. 플래그문자 g가 없으면 첫번째 것만 찾음.
                var regExp2 = /a/m; //여러줄 검사 수행
                var area = document.querySelector("#area-tag2");
                // area.innerHTML += target.replace(regExp,"A");
                area.innerHTML += target.replace(regExp,"($&)") + "<br>"; // 찾은거에 괄호를 씌운 것임. 확인을 위해
                area.innerHTML += target2.replace(regExp2,"($&)");
            });
            //#("btn-flag").on("click",function(){});
            
            var ankBtn = $("#btn-ank");
            ankBtn.on("click",function(){
                var target = "Javascript\njQuery\nAjax";
                var regExp = /^j/igm; //시작하는거
                var regExp2 = /ipt$/igm;
                var area = $("#area-tag3");
                var str = "";
                str += target.replace(regExp, "($&)")+"<br>";
                str += target.replace(regExp2, "($&)");
                area.html(str);
            });

            var metaBtn=document.querySelector("#btn-meta");
            metaBtn.addEventListener("click",function(){
              var target = "Javascript jQuery Ajax";
              var regExp = /[aj]/gi;  // 대괄호 사이에 있는 것을 각각 찾는다.
                //가장많이 실수하는거
              var regExp2 = /[^aj]/gi; //대괄호 안에서 쓰이는^는 제외의 의미.
              var area = document.querySelector("#area-tag4");

              area.innerHTML += target.replace(regExp,"($&)") + "<br>";
              area.innerHTML += target.replace(regExp2,"($&)");

              var target2 = "123Javascript";
              var onlySmallEng = /[a-z]/g; // 소문자만 고르기
              var onlyBigEng = /[A-Z]/g; // 대문자만 고르기
              var onlyNumber = /[0-9]/g;
              var allCheck = /[a-zA-Z0-9]/g;
              var onlyHanGeul=/[ㄱ-힣]/g;
              area.innerHTML = target2.replace(onlySmallEng,"($&)");
            });

            // document.querySelector("#btn-extra-btn").addEventListener("click",function(){
                // document.querySelector("#personal-number");
            // });

            $("#btn-extra-btn").on("click",function(){
                // alert("!");
                var target = $("#personal-number").val();
                //990422-1098464
                // var regExp = /\d\d\d\d\d\d-\d\d\d\d\d\d\d/;
                // var regExp =/\d{6}-\d{7}/; // 이것은 숫자갯수만 파악하는 것.
                var regExp = /\d{2}(0[1-9]|1[0-2])(0[1-9]|1[0-9]|2[0-9]|3[0-1])-[1-4]\d{6}/;
                //1[0-9]2[0-9] 를 합치면 [1-2][0-9]
                if(regExp.test(target)){
                    alert("정상입력");
                }else{
                    alert("입력오류");
                }
            });

            var hanBtn=document.querySelector("#btn-hangeul");
            hanBtn.addEventListener("click",function(){
                // alert("!");
                var input = document.querySelector("#hangeul").value;
                var regExp =/[ㄱ-힣]/g;
                if(regExp.test(input)){  //한글이 있으면 참인거구나.
                    alert("한글만 입력함");
                }else{
                    alert("한글만 입력하세요.")
                }
            });

        });
    </script>
    
    <h1>정규표현식</h1>
    <p>
        1. 특정한 규칙을 가진 문자열의 집합을 표현하는데 사용하는 형식 언어
        <br>
        2. 주로 프로그래밍 언어나 텍스트 에디터 등에서 문자열의 검색과 치환을 위한 용도로 사용됨
        <br>
        3. 입력한 문자열에서 특정한 조건을 표현할 경우 다소 복잡할 수 있지만 표현식을 숙지하면
        매우 간단하게 표현할 수 있음. 
    </p>
    <h3>정규표현식의 객체 생성</h3>
    <button id="btn-regex1">확인하기</button>
    <div id="area-tag1" class="area"></div>
    <h3>플래그 문자</h3>
    <p>
        g : 전역비교를 수행<br>
        i : 대소문자 구분하지 않음<br>
        m : 여러줄 검사 수행
    </p>

    <button id="btn-flag">플래그 문자 확인</button>
    <div id="area-tag2" class="area"></div>
    <h3>앵커 문자</h3>
    <p>
        문자열의 앞과 뒤를 구분해주는 정규표현식 기호
    </p>
    <button id="btn-ank">앵커 문자 확인</button>
    <div id="area-tag3" class="area"></div>
    <h3>메타문자</h3>
    <p>
        [] : 대괄호 사이에 존재하는 문자들 중 하나 일치
    </p>
    <button id="btn-meta">메타문자 확인</button>
    <div id="area-tag4" class="area"></div>
    <h3>추가 메타 문자</h3>
    <p>
        \d : 숫자<br>
        \w : 아무 단어 전부(숫자포함)<br>
        \s : 공백문자(탭, 띄어쓰기, 줄바꿈)<br>
        \D : 숫자가 아닌것<br>
        \W : 단어가 아닌것<br>
        \S : 공백문자가 아닌것<br>
    </p>

    <h3>수량문자</h3>
    <p>
        a+ : a가 적어도 1개 이상<br>
        a* : a가 0개 또는 여러개<br>
        a? : a가 0개 또는 1개<br>
        a{5} : a가 5개<br>
        a{2,5} : a가 2~5개<br>
        a{2, } : a가 2개 이상<br>
        a{ ,2} : a가 2개 이하<br>
        <b>a는 메타 문자로 주로 사용</b>
    </p>
    <label for="personal-number">주민번호 입력: </label><input type="text" name="personal-number" id="personal-number">
    <button id="btn-extra-btn">추가 메타문자 확인</button><br>
    <label for="hangeul">한글 입력 : </label><input type="text" name="hangeul" id="hangeul">
    <button id="btn-hangeul">한글 문자 확인</button>
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>





</body>
</html>